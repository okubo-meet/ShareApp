# シェア定型文
[AppStore：シェア定型文](https://apple.co/3n6LcDY)

## 1.概要
このアプリはSNSやメールなどで、定型文を簡単に何度も使えるようにするためのアプリです。

自分で文章テンプレートを作成してデータベースに保存することで、簡単に定型文を作成することができるようになります。

出来上がった文章をシェア機能で他のアプリに投稿できます。

テンプレートを元にシェアする文章を入力する際、文字認識カメラを使ってURLやゲームのIDなどの入力が面倒な文字列をコピーする機能があります。

## 2.機能
### 文章作成画面
![文章作成画面](https://user-images.githubusercontent.com/53589421/227423512-9d2b76fd-f1ba-4641-b953-dc9a3a3deeeb.PNG)
![シェア機能](https://user-images.githubusercontent.com/53589421/227423799-847d6a7f-3b1c-4b5d-ae5e-c7a804b0fef1.PNG)
![キーボード](https://user-images.githubusercontent.com/53589421/227425463-63376554-b142-454b-a9cf-9020aefb230f.PNG)
- アプリ起動時の画面。
- "テンプレート選択"の行を押すとテンプレートリストの画面に遷移する。この行には選択されているテンプレートのタイトルが表示される。
- UserDefaultsから選択されているテンプレートを取得し、値をテキストフィールドに反映させる。
- "本文をシェアする"のボタンを押すとシェア機能を呼び出せる。
- "本文"に入力する際、キーボード上の"文字認識"のボタンを押すとカメラで文字を読み取れる。

### 文字認識カメラ
![文字ハイライト](https://user-images.githubusercontent.com/53589421/227425971-bf6b031e-0b10-4b84-be8e-506dda3b5c73.PNG)
![文字認識コピー](https://user-images.githubusercontent.com/53589421/227425983-1c273f03-f41c-4942-bbbb-2c22d9edbb6d.PNG)
- sheetで表示される。下にスワイプして閉じる。
- 映像は２本指のピンチジェスチャーでズームイン・ズームアウトできる。
- カメラに映った文字列が透明なボックスでハイライトされる。
- ハイライトされた文字列をタップすると確認アラートが表示される。
- 確認アラートで"OK"を押すと、認識した文字列をクリップボードにコピーしてカメラを閉じる。

### テンプレートリスト
![テンプレートリスト](https://user-images.githubusercontent.com/53589421/227427470-7a1650a2-d355-4031-9175-8fc976d8013c.PNG)
- データベースに保存されたテンプレートを選択する画面。
- 作成した日時が新しいものから表示されている。
- 選択されたテンプレートのIDをUserDefaultsに保存し、文章作成画面に戻る。
- "テンプレート無し"を押すとUserDefaultsの値をリセットし、文章作成画面に戻る。
- "新規テンプレート作成"を押すと、テンプレート設定画面へ遷移して新規作成できる。
- 右上の"編集"を押すと編集モードの切り替えができる。

![編集モード](https://user-images.githubusercontent.com/53589421/227430250-b8a6e623-cb03-4223-bbad-8fee83723f3d.PNG)
- 編集モード中にテンプレートを選択すると、編集ダイアログを表示する。
- ダイアログの"編集"を押すと、テンプレート設定画面へ遷移して選択したテンプレートの値を変更できる。
- ダイアログの"削除"を押すと、選択されたテンプレートがデータベースから削除される。

### テンプレート設定画面
![空欄](https://user-images.githubusercontent.com/53589421/227430566-0aba3aa9-0845-460e-9be4-ff0dc68d2b3e.PNG)
![テンプレート設定](https://user-images.githubusercontent.com/53589421/227430574-8b880619-13a2-4cf1-ac4b-cf7bb993b183.PNG)
- 新規作成・既存のテンプレートの編集を行う画面。
- タイトルの設定、文章テンプレートの作成ができる。
- "保存"を押すとデータベースに追加・上書きできる。
- "タイトル"、"本文"に空欄がある場合"保存"ボタンは無効化される。

## 3.データベースの設計

### CoreDataモデル
#### エンティティ名：Template
| 属性 | 型 | 概要 |
----|----|----
| id | UUID | テンプレートの識別ID |
| title | String | テンプレートのタイトル |
| body | String | テンプレートの本文 |
| createdDate | Date | テンプレート作成日 |

### UserDefaults
| Key | 型 | 概要 |
----|----|----
| "selectedID" | String | テンプレートの識別IDを文字列に変換した値 |

## 4.開発環境
- Xcode 14.2
- macOS Ventura 13.2.1
- iOS16.2
- CoreData
